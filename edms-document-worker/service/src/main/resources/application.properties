spring.application.name=edms-document-worker
server.port=${SERVER_PORT:8091}

# RabbitMQ (listener)
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:guest}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:guest}

document.events.exchange=${DOCUMENT_EXCHANGE:edms.document.events}
document.events.queue=${DOCUMENT_QUEUE:edms.document.process.queue}
document.events.routing.key=${DOCUMENT_ROUTING_KEY:document.uploaded}

# MinIO
minio.url=${MINIO_URL:http://localhost:9000}
minio.user=${MINIO_USER:root}
minio.password=${MINIO_PASSWORD:Minio_File_Java_Spring_2023}
minio.bucket=${MINIO_BUCKET:our-bucket}

# Postgres
spring.datasource.url=${WORKER_DB_URL:jdbc:postgresql://localhost:5436/edms_document_worker}
spring.datasource.username=${WORKER_DB_USERNAME:postgres}
spring.datasource.password=${WORKER_DB_PASSWORD:postgres}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.max-attempts=3
spring.rabbitmq.listener.simple.retry.initial-interval=5000
spring.rabbitmq.listener.simple.retry.multiplier=2.0
spring.rabbitmq.listener.simple.retry.max-interval=20000
spring.rabbitmq.listener.simple.retry.default-requeue-rejected=false
